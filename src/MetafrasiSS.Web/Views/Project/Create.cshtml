@using MetafrasiSS.Web.Models.ProjectModels;
@model CreateProjectModel
@{
    ViewData["Title"] = "Create Project";
}

<div class="main-container">
    <form asp-controller="Project" asp-action="Create" method="post" enctype="multipart/form-data">
        <h2>Create new Project</h2>
        <hr />

        <div asp-validation-summary="ModelOnly"></div>

        <div>
            <label asp-for="@Model.Name">Name</label>
            <input asp-for="@Model.Name" autocomplete="Name" aria-required="true" />
            <span class="text-error" asp-validation-for="@Model.Name"></span>
        </div>

        <div>
            <label asp-for="@Model.Description">Description</label>
            <input asp-for="@Model.Description" autocomplete="Description" aria-required="true" />
            <span class="text-error" asp-validation-for="@Model.Description"></span>
        </div>

        <div>
            <div>
                <label for="file">Project File</label>
            </div>
            <div>
                <label class="form-file-label" for="file">Select your first file</label>
                <input type="file" id="file" name="projectFile">
                <span id="fileName"> </span>
            </div>
        </div>

        <button type="submit">Cadastrar</button>
    </form>
</div>

<script>
    const fileInput = document.getElementById("file");

    fileInput.addEventListener("change", () => {
        let fileName = document.getElementById("file").files[0].name;

        if (fileName.length > 40) {
            //fileName = fileName.substring(0, 40) + '';
            fileName = fileName.substring(0, 22) + '-' + fileName.substring(22, 40) + '...';
        }

        document.getElementById('fileName').innerText = `File: ${fileName}`;
        // document.getElementById("fileName").innerText = `Arquivo: ${fileName.length < 41 ? fileName : fileName.substring(0, 40) + "..."}`;
    });

</script>